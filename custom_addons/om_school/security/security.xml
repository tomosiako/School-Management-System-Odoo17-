<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data noupdate="0">
        <record id="module_category_school" model="ir.module.category">
            <field name="name">School</field>
            <field name="sequence">1</field>
        </record>

        <record id="group_school_teacher" model="res.groups">
            <field name="name">Teacher</field>
            <field name="category_id" ref="om_school.module_category_school"/>
            <field name="implied_ids" eval="[(4,ref('base.group_user'))]"/>
            <field name="comment">this will access student and attendances</field>
        </record>

        <record id="group_school_management" model="res.groups">
            <field name="name">Management</field>
            <field name="category_id" ref="om_school.module_category_school"/>
            <field name="implied_ids" eval="[
                            (4, ref('om_school.group_school_teacher')),
                            (4, ref('om_school.group_school_hr')),
                            (4, ref('om_school.group_school_finance'))
                                              ]"/>
            <field name="comment">this will access student and attendances and other functionalities</field>
        </record>


        <record id="group_school_hr" model="res.groups">
            <field name="name">HR</field>
            <field name="category_id" ref="om_school.module_category_school"/>
            <field name="implied_ids" eval="[(4,ref('base.group_user'))]"/>
            <field name="comment">this will access employee functionalities</field>
        </record>


        <record id="group_school_finance" model="res.groups">
            <field name="name">Finance</field>
            <field name="category_id" ref="om_school.module_category_school"/>
            <field name="implied_ids" eval="[(4,ref('base.group_user'))]"/>
            <field name="comment">this will access financial functionalities</field>
        </record>


        <record id="hr_own_appointment_rule" model="ir.rule">
            <field name="name">hr: view own records</field>
            <field name="model_id" ref="model_school_employee"/>
            <field name="groups" eval="[Command.set([ref('om_school.group_school_hr')])]"/>
            <field name="domain_force">[('create_uid','=', user.id)]</field>
        </record>

         <record id="manager_view_all_appointment_rule" model="ir.rule">
            <field name="name">manager: view all records</field>
            <field name="model_id" ref="model_school_employee"/>
            <field name="groups" eval="[Command.set([ref('om_school.group_school_management')])]"/>
            <field name="domain_force">[]</field>
        </record>



<!--        <record id="teacher_own_appointment_rule" model="ir.rule">-->
<!--            <field name="name">teacher: view own records</field>-->
<!--            <field name="model_id" ref="model_school_lesson"/>-->
<!--            <field name="groups" eval="[Command.set([ref('om_school.group_school_teacher')])]"/>-->
<!--            <field name="domain_force">[('teacher.name', '=', user.name)]</field>-->

<!--        </record>-->

<!--         <record id="manager_viewall_appointment_rule" model="ir.rule">-->
<!--            <field name="name">manager: view all records</field>-->
<!--            <field name="model_id" ref="model_school_employee"/>-->
<!--            <field name="groups" eval="[Command.set([ref('om_school.group_school_management')])]"/>-->
<!--            <field name="domain_force">[]</field>-->
<!--        </record>-->
    </data>
</odoo>